"use strict";!function(e){function t(e){if(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(n||[]).forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})}return e}function n(e){this.message="SolarException: "+e,this.toString=function(){return this.message}}function o(e,t,n,o){var s=!1;switch(t.toLowerCase()){default:break;case"post":case"put":s=200===e.status||201===e.status||202===e.status;break;case"get":s=200===e.status}s?n&&n(e.response,e.status,e):o&&o(e)}function s(e,t,n){var s={};switch(e.method.toLowerCase()){default:break;case"post":case"put":s=JSON.stringify(e.data||s);break;case"get":}var r=new XMLHttpRequest;r.responseType=e.responseType||"json";var u=e.params||{},a=e.url.inject(u);r.open(e.method,a);var i=e.headers||{};for(var h in i)i.hasOwnProperty(h)&&r.setRequestHeader(h,e.headers[h]);r.addEventListener("readystatechange",function(){this.readyState===XMLHttpRequest.DONE&&o(this,e.method,t,n)}),r.send(s)}function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u=arguments[3],a=arguments[4];if(!i)throw new n("No base url configured !!!");var h=e.basePath?e.basePath:"",c=e.responseType?e.responseType:"json",f=o.url||"",d=""+i+h+f,l=o.method||"GET",g=t({},p||{},e.headers||{},o.headers||{},r.headers||{});r.method=l,r.url=d,r.headers=g,r.responseType=c,s(r,u,a)}function u(e,t,o,s,u){var a=e?f:d,i=e?h:c,p=a[t];if(!p)throw new n("No such API found - "+t+" !!!");r(i,p,o,s,u)}var a=void 0===e?this:e,i="",h={},c={},f={},d={},p={},l={};String.prototype.inject=function(e){return this.replace(/{([^{}]*)}/g,function(t,n){var o=e[n];return"string"==typeof o||"number"==typeof o?o:t})};var g={setBaseUrl:function(e){return i=e,this},setAuthConfig:function(e){return h=e,this},setUnAuthConfig:function(e){return c=e,this},setAuthenticatedEndpoints:function(e){return f=e,this},setUnAuthenticatedEndpoints:function(e){return d=e,this},setCommonHeaders:function(e){return p=e,this},setCustomRequestGroups:function(e){return l=e,this},addCustomRequestGroup:function(e,t){return l||(l={}),l[e]=t,this},getCustomRequestGroups:function(){return l},loadConfig:function(e){if(!e)throw new n("Solar config is undefined !!!");return this.setBaseUrl(e.baseUrl).setAuthenticatedEndpoints(e.authEndpoints).setUnAuthenticatedEndpoints(e.unAuthEndpoints).setCommonHeaders(e.commonHeaders).setAuthConfig(e.authConfig).setUnAuthConfig(e.unAuthConfig).setCustomRequestGroups(e.customRequestGroups),this},executeAuth:u.bind(this,!0),executeUnAuth:u.bind(this,!1),executeCustom:function(e,o,s,u,a){var i=this.getCustomRequestGroups();if(!e||!o)throw new n("Group or API name cannot be undefined !!!");if(!i[e])throw new n('No such group - "'+e+'" in custom request groups !!!');var f=i[e],d=f.endpoints;if(!d)throw new n('No endpoints in group - "'+e+'"');var p=d[o];if(!p)throw new n('No such api "'+o+'" in  group - "'+e+'" !!!');var l=t({},f.config||{}),g=f.parent;if(g){var w;switch(g.toLowerCase()){default:break;case"auth":w=h;break;case"unauth":w=c}w&&(l.basePath=""+(w.basePath||"")+l.basePath,l.headers=t({},w.headers||{},l.headers))}r(l,p,s,u,a)},request:function(e,t,o){if(!e)throw new n("Payload cannot be empty !!!");if(!e.method)throw new n("Method cannot be empty !!!");if(!e.url)throw new n("Url cannot be empty !!!");s(e,t,o)},info:function(){console.log("Solar Config ---------------"),console.log(i),console.log(f),console.log(f),console.log(d),console.log(h),console.log(c),console.log(p),console.log(l),console.log("----------------------------")}};a.$olar=g}(window);